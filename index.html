<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<title>Businesses of Ancaster</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Web mapping application for the local businesses of Ancaster, Ontario">
<meta name="keywords" content="Ancaster, Local, Business, Franchise, Ontario, GIS, Map, Web Mapping, Leaflet, Javascript, GeoJSON">
<meta name="author" content="Kevin Fitzgerald">
<script src="js/leaflet-src.js"></script>
<link rel="stylesheet" href="css/leaflet.css" />
<link rel="stylesheet" href="css/styledLayerControl.css" />
<link rel="stylesheet" href="css/leaflet-search.css" />
<link rel="stylesheet" href="css/leaflet-easy-button.css" />
<link rel="stylesheet" href="css/leaflet-tag-filter-button.css" />
<script src="js/styledLayerControl.js"></script>
<script src="js/leaflet-search.js"></script>
<script src="js/leaflet-easy-button.js"></script>
<script src="js/leaflet-tag-filter-button.js"></script>

<style>
#map {
	width: 800px;
	height: 600px;
}
#logo {
	width: 60px;
	height: 60px;
}
.leaflet-div-icon {
	opacity: 0;
	}
.leaflet-marker-icon {
	color: #fff;
	font-size: 16px;
	line-height: 16px;	
	text-align: center;
	vertical-align: middle;
	box-shadow: none;
}
.search-tip {
	white-space: nowrap;
}
.search-tip b {
	display: inline-block;
	clear: left;
	float: right;
	padding: 0 4px;
	margin-left: 4px;
}
</style>
</head>
<body>
<div id="map"> </div>
<script src="geojson/ArtMusic_Geojson.js"></script>
<script src="geojson/Theatre_Geojson.js"></script>

<script src="geojson/Education_Geojson.js"></script>
<script src="geojson/Church_Geojson.js"></script>
<script src="geojson/Municipal_Geojson.js"></script>

<script src="geojson/Fitness_Geojson.js"></script>
<script src="geojson/Sport_Geojson.js"></script>

<script src="geojson/Grocery_Geojson.js"></script>
<script src="geojson/Rest_Geojson.js"></script>
<script src="geojson/Special_Rest_Geojson.js"></script>

<script src="geojson/ChiroPhy_Geojson.js"></script>
<script src="geojson/DentalOptical_Geojson.js"></script>
<script src="geojson/PharmPhys_Geojson.js"></script>
<script src="geojson/SpecHeal_Geojson.js"></script>
<script src="geojson/Vet_Geojson.js"></script>

<script src="geojson/Advise_Geojson.js"></script>
<script src="geojson/FinanceLaw_Geojson.js"></script>
<script src="geojson/EstateInsure_Geojson.js"></script>

<script src="geojson/Aes_Geojson.js"></script>
<script src="geojson/Clothing_Geojson.js"></script>
<script src="geojson/Design_Geojson.js"></script>
<script src="geojson/Retail_Geojson.js"></script>

<script src="geojson/Auto_Geojson.js"></script>
<script src="geojson/General_Geojson.js"></script>
<script src="geojson/LandMain_Geojson.js"></script>
<script src="geojson/Manu_Geojson.js"></script>
<script src="geojson/Tech_Geojson.js"></script>
<script src="geojson/Utility_Geojson.js"></script>
<script>
	//Symbol for Aesthetic Stores
	var aesIcon = L.icon({
		iconUrl: 'http://image.flaticon.com/icons/svg/53/53782.svg',
		iconSize: [32, 32],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Art Stores
	var artIcon = L.icon({
		iconUrl: 'http://alex.state.al.us/images/arts.png',
		iconSize: [32, 37],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for bakeries
	var bakeIcon = L.icon({
		iconUrl: 'http://rosiescoffeebarandbakery.com/communities/5/000/001/498/865//images/5816262.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for banks
	var bankIcon = L.icon({
		iconUrl: 'http://freeiconbox.com/icon/256/30837.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Pubs and The Beer Store
	var beerIcon = L.icon({
		iconUrl: 'http://simpleicon.com/wp-content/uploads/beer.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});	
	
	//Symbol for Cafes and Coffee Shops
	var cafeIcon = L.icon({
		iconUrl: 'http://www.freeiconspng.com/uploads/coffee-icon-png-31.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for chiropractic services
	var chiroIcon = L.icon({
		iconUrl: 'http://www.woltherchiro.com/wp-content/uploads/2015/10/TempIcon2.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Churches
	var churchIcon = L.icon({
		iconUrl: 'http://icons.iconarchive.com/icons/icons8/windows-8/512/Holidays-Church-icon.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for Clothing Stores
	var clothingIcon = L.icon({
		iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/17963-200.png',
		iconSize: [32, 37],
		iconAnchor: [16, 37],
		popupAnchor: [0, -28]
	});

	//Symbol for computer and software technology services
	var compIcon = L.icon({
		iconUrl: 'http://www.freeiconspng.com/uploads/apple-computer-laptop-mac-monitor-screen-icon--icon-search--16.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for construction services
	var constructIcon = L.icon({
		iconUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/W21-1a.svg/2000px-W21-1a.svg.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});
	
	//Symbol for cycling ir bike stores
	var cycleIcon = L.icon({
		iconUrl: 'https://cdn3.iconfinder.com/data/icons/glypho-signs/64/user-biking-512.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for dance studios
	var danceIcon = L.icon({
		iconUrl: 'http://www.sfbykate.com/images/ballet_icon.png',
		iconSize: [45, 45],
		iconAnchor: [20, 37],
		popupAnchor: [0, -28]
	});

	//Symbol for daycares
	var daycareIcon = L.icon({
		iconUrl: 'http://www.harborchildcare.org/public/Images/toddler-icon.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for dental services
	var dentalIcon = L.icon({
		iconUrl: 'http://icons.iconarchive.com/icons/medicalwp/medical/256/Tooth-blue-icon.png',
		iconSize: [30, 30],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for drycleaning services
	var drycleanIcon = L.icon({
		iconUrl: 'http://laundrywala.co.in/front/images/icon-1.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for electrical services
	var electricIcon = L.icon({
		iconUrl: 'http://image.flaticon.com/icons/png/512/8/8869.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for engineering and manufacturing services
	var engIcon = L.icon({
		iconUrl: 'http://www.clearedgemarketing.com/images/CEM_website_icon-BULB.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for real estate services
	var estateIcon = L.icon({
		iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/10949-200.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Farmer's Markets/Farms
	var farmIcon = L.icon({
		iconUrl: 'http://www.farroupilha.com.br/content/upload/imagens/atividades%20nutricao/2015/cenoura.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});	

	//Symbol for Fast food restaurants
	var fastIcon = L.icon({
		iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/98750-200.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for financial services and banks
	var financeIcon = L.icon({
		iconUrl: 'http://www.freeiconspng.com/uploads/money-icon-29.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Fire Stations
	var fireIcon = L.icon({
		iconUrl: 'http://www.dbo.ca.gov/Publications/bulletins/volume03/page/images/burning-house.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for Flower Stores
	var flowerIcon = L.icon({
		iconUrl: 'http://images.clipartpanda.com/pink-rose-clipart-ncEyABoji.png',
		iconSize: [38, 38],
		iconAnchor: [16, 37],
		popupAnchor: [0, -28]
	});	

	//Symbol for Food Stores
	var foodIcon = L.icon({
		iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/15480-200.png',
		iconSize: [30, 30],
		iconAnchor: [16, 30],
		popupAnchor: [0, -28]
	});	

	//Symbol for gas stations
	var gasIcon = L.icon({
		iconUrl: 'http://www.freeiconspng.com/uploads/gas-station-icon-19.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for General Stores
	var generalIcon = L.icon({
		iconUrl: 'http://blog.ernestopatarroyo.com/images/old/iconmonstr-wrench-20-icon.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for Golf Courses and Stores
	var golfIcon = L.icon({
		iconUrl: 'http://www.passport4life.co.uk/images/golfer.png',
		iconSize: [32, 32],
		iconAnchor: [15, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for grocery stores
	var groceryIcon = L.icon({
		iconUrl: 'http://image.flaticon.com/icons/png/128/135/135763.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});
	
	//Symbol for Healthcare Services
	var healIcon = L.icon({
		iconUrl: 'http://www.bncoupon.com/CGP/Healthcare-Icon.png',
		iconSize: [30, 30],
		iconAnchor: [15, 15],
		popupAnchor: [0, -28]
	});
	
	//Symbol for home decor stores
	var homeIcon = L.icon({
		iconUrl: 'http://cdn2.couponrani.com/resources/images/cat_icons/13.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for home decor stores
	var horseIcon = L.icon({
		iconUrl: 'https://dvorakexpeditions.com/wp-content/uploads/bfi_thumb/HorseRiding_icon_1-2xtfp3hlobcsmhe4bju134.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Ice Cream Shops
	var iceIcon = L.icon({
		iconUrl: 'http://www.misskatecuttables.com/uploads/shopping_cart/7294/large_ice-cream-cone.png',
		iconSize: [38, 38],
		iconAnchor: [18, 18],
		popupAnchor: [0, -28]
	});	

	//Symbol for insurance services
	var insureIcon = L.icon({
		iconUrl: 'http://www.freeiconspng.com/uploads/insurance-icon-10.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});	

	//Symbol for Jewelry Stores
	var jewelIcon = L.icon({
		iconUrl: 'https://lh4.googleusercontent.com/-CktZqCwArCo/VLhDMZmuvgI/AAAAAAAAALs/U8NJ_2dWnvA/w766-h766/blue-diamond-shape-clip-art-jcxo5A7Ki.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for legal services
	var landscapeIcon = L.icon({
		iconUrl: 'http://trustgreenguys.com/wp-content/uploads/2016/01/Landscaping.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for legal services
	var lawIcon = L.icon({
		iconUrl: 'https://cdn4.iconfinder.com/data/icons/banking-and-finance/500/finance-hammer-512.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for post offices and mail services
	var mailIcon = L.icon({
		iconUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Circle-icons-mail.svg/768px-Circle-icons-mail.svg.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for martial arts studios
	var martialIcon = L.icon({
		iconUrl: 'http://newkentfma.com/userfiles/images/karate-punch-icon.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Community Buildings, Schools and Churches
	var municIcon = L.icon({
		iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/10119-200.png',
		iconSize: [30, 30],
		iconAnchor: [15, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for Music stores & lessons
	var musicIcon = L.icon({
		iconUrl: 'http://www.icons101.com/icons/91/Yosemite_Flat_Icons_by_Dtaf_Alonso/128/Music.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});
	
	//Symbol for Optometry Services
	var optomIcon = L.icon({
		iconUrl: 'http://universitydoctor.com/wp-content/uploads/2016/06/optometrist_icon-300x300.png?e88ea1',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});
	
	//Symbol for oil and gas Services
	var oilIcon = L.icon({
		iconUrl: 'http://icons.iconarchive.com/icons/icons8/android/512/Industry-Gas-Industry-icon.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Pet Stores
	var petsIcon = L.icon({
		iconUrl: 'http://www.chacewaterkennels.co.uk/icon.png',
		iconSize: [32, 32],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for pharmacies
	var pharmIcon = L.icon({
		iconUrl: 'https://irp-cdn.multiscreensite.com/43ef94bc/dms3rep/multi/desktop/pharmacy-icon-200x200.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for photo studios and camera stores
	var photoIcon = L.icon({
		iconUrl: 'http://www.freeiconspng.com/uploads/camera-icon--long-shadow-media-iconset--pelfusion-19.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});
	
	//Symbol for physiotherapy clinics
	var physioIcon = L.icon({
		iconUrl: 'http://www.sudhanandgroup.org/kaveri/images/9.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});
	
	//Symbol for Pizza Stores
	var pizzaIcon = L.icon({
		iconUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Twemoji_1f355.svg/1024px-Twemoji_1f355.svg.png',
		iconSize: [30, 30],
		iconAnchor: [15, 15],
		popupAnchor: [0, -28]
	});

	//Symbol for Indoor playground facilities
	var playIcon = L.icon({
		iconUrl: 'http://playthelariver.com/wp-content/uploads/icon_playground.png',
		iconSize: [30, 30],
		iconAnchor: [15, 15],
		popupAnchor: [0, -28]
	});
	
	//Symbol for Professional Services
	var proIcon = L.icon({
		iconUrl: 'http://senssai.com/images/professionals-icon.png',
		iconSize: [30, 30],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for Retail Services
	var retailIcon = L.icon({
		iconUrl: 'http://icons.iconarchive.com/icons/petalart/free-shopping/256/shopping-bag-icon.png',
		iconSize: [30, 30],
		iconAnchor: [16, 16],
		popupAnchor: [0, -28]
	});

	//Symbol for schools and educational services
	var schoolIcon = L.icon({
		iconUrl: 'http://www.free-icons-download.net/images/graduation-cap-logo-icon-72019.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Senior Services
	var seniorIcon = L.icon({
		iconUrl: 'http://merrilyorsini.com/wp-content/uploads/2014/12/elderly-icon.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Sewing and Alteration Stores
	var sewIcon = L.icon({
		iconUrl: 'https://lafabriquediy.s3.amazonaws.com/media/machines/machine-coudre.png',
		iconSize: [32, 37],
		iconAnchor: [16, 18],
		popupAnchor: [0, -28]
	});

	//Symbol for soccer services
	var soccerIcon = L.icon({
		iconUrl: 'http://www.clker.com/cliparts/y/s/9/J/j/O/soccer-ball2-hi.png',
		iconSize: [26, 26],
		iconAnchor: [13, 13],
		popupAnchor: [0, -28]
	});

	//Symbol for Sports Stores
	var sportIcon = L.icon({
		iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/883-200.png',
		iconSize: [32, 32],
		iconAnchor: [16, 32],
		popupAnchor: [0, -28]
	});
	
	//Symbol for Swimming Pools
	var swimIcon = L.icon({
		iconUrl: 'https://dl.dropbox.com/s/568ezux1xw9ijwo/swim.png?dl=0',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for tennis services
	var tennisIcon = L.icon({
		iconUrl: 'http://icons.iconarchive.com/icons/icons-land/sport/256/Tennis-Ball-icon.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for Theatres
	var theatreIcon = L.icon({
		iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/15210-200.png',
		iconSize: [32, 37],
		iconAnchor: [16, 18],
		popupAnchor: [0, -28]
	});

	//Symbol for Veterinary Services
	var vetIcon = L.icon({
		iconUrl: 'http://kalashpharma.com/wp-content/uploads/2015/05/icon-5.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});

	//Symbol for nutrition stores
	var vitaminIcon = L.icon({
		iconUrl: 'http://drarjan.com/wp-content/uploads/2010/03/supplements.png',
		iconSize: [34, 34],
		iconAnchor: [17, 17],
		popupAnchor: [0, -28]
	});
		
	//Symbol for Wine Shops
	var wineIcon = L.icon({
		iconUrl: 'http://icons.iconarchive.com/icons/unclebob/spanish-travel/1024/wine-icon.png',
		iconSize: [36, 36],
		iconAnchor: [16, 20],
		popupAnchor: [0, -28]
	});	

	//Customize geojson symbols and labels for the control widget layer group
	mapstyle = {
		pointToLayer: function(feature, latlng) {
			//Marker and pop-up for aesthetic stores
			if (feature.properties.amenity == "Aes" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: aesIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			if (feature.properties.amenity == "Aes" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: aesIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for galleries and art stores
			if (feature.properties.amenity == "Art" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: artIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Art" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: artIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for bakers and bakeries
			if (feature.properties.amenity == "Bake" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: bakeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Bake" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: bakeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for banks
			if (feature.properties.amenity == "Bank" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: bankIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Bank" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: bankIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for beer store and pubs
			if (feature.properties.amenity == "Beer" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: beerIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Beer" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: beerIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for Cafes
			if (feature.properties.amenity == "Cafe" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: cafeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Cafe" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: cafeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for chiropractors
			if (feature.properties.amenity == "Chiro" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: chiroIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Chiro" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: chiroIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for churches
			if (feature.properties.amenity == "Church" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: churchIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Church" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: churchIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for computer and software technology services
			if (feature.properties.amenity == "Comp" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: compIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Comp" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: compIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
				
			//Marker and pop-up for computer and software technology services
			if (feature.properties.amenity == "Construct" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: constructIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Construct" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: constructIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for cycling or bike stores
			if (feature.properties.amenity == "Cycle" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: cycleIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Cycle" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: cycleIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for dance studios
			if (feature.properties.amenity == "Dance" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: danceIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Dance" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: danceIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for daycare
			if (feature.properties.amenity == "Daycare" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: daycareIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Daycare" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: daycareIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for dental services
			if (feature.properties.amenity == "Dental" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: dentalIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Dental" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: dentalIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for dryclean services
			if (feature.properties.amenity == "Dryclean" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: drycleanIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Dryclean" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: drycleanIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for electrical services
			if (feature.properties.amenity == "Electric" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: electricIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Electric" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: electricIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for engineering and manufacturing services
			if (feature.properties.amenity == "Eng" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: engIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Eng" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: engIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for real estate services
			if (feature.properties.amenity == "Estate" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: estateIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Estate" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: estateIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for farms and the farmers market
			if (feature.properties.amenity == "Farm" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: farmIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
				
			if (feature.properties.amenity == "Farm" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: farmIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for fast food restaurants
			if (feature.properties.amenity == "Fast" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: fastIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
				
			if (feature.properties.amenity == "Fast" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: fastIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for financial services
			if (feature.properties.amenity == "Finance" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: financeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
				
			if (feature.properties.amenity == "Finance" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: financeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for fire stations
			if (feature.properties.amenity == "Fire" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: fireIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
				
			if (feature.properties.amenity == "Fire" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: fireIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for flower shops
			if (feature.properties.amenity == "Flower" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: flowerIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			if (feature.properties.amenity == "Flower" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: flowerIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for gas stations
			if (feature.properties.amenity == "Gas" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: gasIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			if (feature.properties.amenity == "Gas" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: gasIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for general services
			if (feature.properties.amenity == "General" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: generalIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			if (feature.properties.amenity == "General" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: generalIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for general services
			if (feature.properties.amenity == "Golf" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: golfIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			if (feature.properties.amenity == "Golf" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: golfIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for grocery stores
			if (feature.properties.amenity == "Grocery" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: groceryIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			if (feature.properties.amenity == "Grocery" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: groceryIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for general health services
			if (feature.properties.amenity == "Heal" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: healIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Heal" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: healIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for home decor services
			if (feature.properties.amenity == "Home" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: homeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Home" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: homeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for horseback riding and stable services
			if (feature.properties.amenity == "Horse" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: horseIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Horse" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: horseIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
						
			//Marker and pop-up for ice cream shops
			if (feature.properties.amenity == "Ice" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: iceIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Ice" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: iceIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for insurance services
			if (feature.properties.amenity == "Insure" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: insureIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Insure" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: insureIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
				
			//Marker and pop-up for jewellery shops
			if (feature.properties.amenity == "Jewel" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: jewelIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Jewel" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: jewelIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for landscape services
			if (feature.properties.amenity == "Landscape" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: landscapeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Landscape" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: landscapeIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for legal services
			if (feature.properties.amenity == "Law" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: lawIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Law" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: lawIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for post offices and mail services
			if (feature.properties.amenity == "Mail" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: mailIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Mail" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: mailIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for martial arts services
			if (feature.properties.amenity == "Martial" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: martialIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Martial" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: martialIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for municipal services
			if (feature.properties.amenity == "Munic" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: municIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Munic" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: municIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for music services
			if (feature.properties.amenity == "Music" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: musicIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Music" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: musicIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for oil and natural gas services
			if (feature.properties.amenity == "Oil" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: oilIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Oil" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: oilIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for optometry services
			if (feature.properties.amenity == "Optom" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: optomIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Optom" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: optomIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for pet stores
			if (feature.properties.amenity == "Pets" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: petsIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Pets" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: petsIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for pharmacies
			if (feature.properties.amenity == "Pharm" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: pharmIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Pharm" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: pharmIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for photo studios and camera stores
			if (feature.properties.amenity == "Photo" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: photoIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Photo" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: photoIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for physiotherapy clinics
			if (feature.properties.amenity == "Physio" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: physioIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Physio" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: physioIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for pizza shops
			if (feature.properties.amenity == "Pizza" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: pizzaIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Pizza" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: pizzaIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for indoor playgrounds
			if (feature.properties.amenity == "Play" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: playIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Play" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: playIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for professional services
			if (feature.properties.amenity == "Pro" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: proIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Pro" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: proIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for restaurants
			if (feature.properties.amenity == "Rest" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: foodIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Rest" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: foodIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for retail stores
			if (feature.properties.amenity == "Retail" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: retailIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Retail" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: retailIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for schools and educational services
			if (feature.properties.amenity == "School" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: schoolIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "School" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: schoolIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for senior homes and retirement centres
			if (feature.properties.amenity == "Senior" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: seniorIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Senior" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: seniorIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for fabric stores and alterations
			if (feature.properties.amenity == "Sew" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: sewIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Sew" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: sewIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for clothing stores
			if (feature.properties.amenity == "Shop" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: clothingIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Shop" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: clothingIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for soccer services
			if (feature.properties.amenity == "Soccer" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: soccerIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Soccer" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: soccerIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for sporting stores, ballparks, etc.
			if (feature.properties.amenity == "Sport" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: sportIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Sport" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: sportIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			
			//Marker and pop-up for swimming pools and aquatic centres
			if (feature.properties.amenity == "Swim" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: swimIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Swim" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: swimIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for tennis services
			if (feature.properties.amenity == "Tennis" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: tennisIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			if (feature.properties.amenity == "Tennis" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: tennisIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for theatres
			if (feature.properties.amenity == "Theatre" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: theatreIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Theatre" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: theatreIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for veterinary services
			if (feature.properties.amenity == "Vet" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: vetIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Vet" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: vetIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for nutrition stores
			if (feature.properties.amenity == "Vitamin" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: vitaminIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);	

			if (feature.properties.amenity == "Vitamin" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: vitaminIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);

			//Marker and pop-up for wine shops
			if (feature.properties.amenity == "Wine" && feature.properties.status == "Franchise")
				return L.marker(latlng, {
					tags: ['Franchise'],
					icon: wineIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);		

			if (feature.properties.amenity == "Wine" && feature.properties.status == "Local")
				return L.marker(latlng, {
					tags: ['Local'],
					icon: wineIcon}).bindPopup('<b>'+feature.properties.name+'</b>'+'<br><br>'+'Address: '+feature.properties.address+'<br><br>'
				+'Phone: '+feature.properties.phone+'<br><br>' + feature.properties.url);
			}
		};
 
	// Create layers for arts and entertainment group
	var artmusiclyr = new L.layerGroup([
		L.geoJson(artmusic, mapstyle)
	]); 
	
	var theatrelyr = new L.layerGroup([
		L.geoJson(theatre, mapstyle)
	]);
   
	// Create layers for the education, religion, and community group
	var churchlyr = new L.layerGroup([
		L.geoJson(church, mapstyle)
	]);
	
	var educationlyr = new L.layerGroup([
		L.geoJson(education, mapstyle)
	]);

	var municipallyr = new L.layerGroup([
		L.geoJson(municipal, mapstyle)
	]);

	// Create layers for fitness and athletics group
	var fitnesslyr = new L.layerGroup([
		L.geoJson(fitness, mapstyle)
	]);

	var sportlyr = new L.layerGroup([
		L.geoJson(sport, mapstyle)
	]);

	// Create layers for food and food markets group
	var grocerylyr = new L.layerGroup([
		L.geoJson(grocery, mapstyle)
	]);
	
	var restlyr = new L.layerGroup([
		L.geoJson(rest, mapstyle)
	]);
	
	var specrestlyr = new L.layerGroup([
		L.geoJson(specrest, mapstyle)
	]);

	// Create layers for health services group
	var chirophylyr = new L.layerGroup([
		L.geoJson(chirophy, mapstyle)
	]);

	var denoplyr = new L.layerGroup([
		L.geoJson(denop, mapstyle)
	]);	
	
	var pharmphylyr = new L.layerGroup([
		L.geoJson(pharmphy, mapstyle)
	]);	

	var specheallyr = new L.layerGroup([
		L.geoJson(specheal, mapstyle)
	]);

	var vetlyr = new L.layerGroup([
		L.geoJson(vet, mapstyle)
	]);
		
	// Create layers for professional services group
	var adviselyr = new L.layerGroup([
		L.geoJson(advise, mapstyle)
	]);	

	var financelawlyr = new L.layerGroup([
		L.geoJson(financelaw, mapstyle)
	]);
	
	var insurestatelyr = new L.layerGroup([
		L.geoJson(insurestate, mapstyle)
	]);

	// Create layers for aesthetic, fashion, and design services group
	var aeslyr = new L.layerGroup([
		L.geoJson(aes, mapstyle)
	]);

	var clothinglyr = new L.layerGroup([
		L.geoJson(clothing, mapstyle)
	]);
	
	var designlyr = new L.layerGroup([
		L.geoJson(design, mapstyle)
	]);

	var retaillyr = new L.layerGroup([
		L.geoJson(retail, mapstyle)
	]);
	
	// Create layers for general services group
	var autogaslyr = new L.layerGroup([
		L.geoJson(autogas, mapstyle)
	]);

	var generallyr = new L.layerGroup([
		L.geoJson(general, mapstyle)
	]);

	var landmainlyr = new L.layerGroup([
		L.geoJson(landmain, mapstyle)
	]);
	
	var manuenglyr = new L.layerGroup([
		L.geoJson(manueng, mapstyle)
	]);

	var techlyr = new L.layerGroup([
		L.geoJson(tech, mapstyle)
	]);

	var utilitylyr = new L.layerGroup([
		L.geoJson(utility, mapstyle)
	]);
	
	var mbAttr = 'Kevin Fitzgerald &copy 2016 | ' +
				 'Imagery © <a href="http://mapbox.com">Mapbox</a>',
		mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw';

	var grayscale = L.tileLayer(mbUrl, {maxZoom: 20, id: 'mapbox.light', attribution: mbAttr}),
		streets = L.tileLayer(mbUrl, {maxZoom: 20, id: 'mapbox.streets', attribution: mbAttr}),
		comic = L.tileLayer(mbUrl, {maxZoom: 20, id: 'mapbox.comic', attribution: mbAttr});
		
	//Create map
	var map = L.map('map', {
		center: [43.217779, -79.987283],
		zoom: 13,
		layers: [streets]
	});

	var baseMaps = [
			       	 { 
						groupName: "<b>Base Maps</b>",
						expanded: false,
						layers: {
						"Streets":  streets,
						"Grayscale":  grayscale,
						"Comic-Style": comic 
						}
				    }							
				];
					
	var overlays = [
				    {
						groupName : "Aesthetic, Design, & Retail Services",
						expanded : false,
						layers    : { 
						"Aesthetics & Spas": aeslyr,
						"Fashion & Textiles": clothinglyr,
						"Design & Home Decor": designlyr,
						"Specialty Retail Services": retaillyr,
					   }	
                  },{
						groupName : "Arts & Entertainment",
						expanded : false,
						layers    : { 
						"Arts & Music": artmusiclyr,
						"Theatre & Entertainment": theatrelyr,
					  }	
                  },{
						groupName : "Athletics & Fitness",
						expanded : false,
						layers    : { 
						"Fitness Centres & Nutrition Stores": fitnesslyr,
						"Sport Academies & Stores": sportlyr		
					   }	
                  },{
						groupName : "Churches, Schools, & Municipal Services",
						expanded : false,
						layers    : { 
						"Churches & Religious Centres": churchlyr,
						"Schools & Educational Services": educationlyr,
						"Community & Municipal Services": municipallyr
					  }	
                  },{
						groupName : "Food & Drink Services",
						expanded : false,
						layers    : { 
						"Grocery Stores & Farmer's Markets": grocerylyr,
						"Restaurants & Lodges": restlyr,
						"Specialty Food Services": specrestlyr	
					   }	
                  },{
						groupName : "General Services",
						expanded : false,
						layers    : { 
						"Automotive & Gas Services": autogaslyr,
						"Engineering & Manufacturing Services": manuenglyr,
						"Landscaping & Home Maintenance Services": landmainlyr,
						"Specialty Services": generallyr,
						"Science & Computer Services": techlyr,
						"Utility & Construction Services": utilitylyr,
					   }	
                  },{
						groupName : "Health Services",
						expanded : false,
						layers    : { 
					    "Chiropractic & Physiotherapy Services": chirophylyr,
						"Dental & Optical Services": denoplyr,	
						"Physicians & Pharmacies": pharmphylyr,
						"Specialty Health Services": specheallyr,
						"Veterinary & Pet Services": vetlyr,
					   }	
                  },{
						groupName : "Professional Services",
						expanded : false,
						layers    : { 
						"Advisory & Consulting Services": adviselyr,
						"Financial & Legal Services": financelawlyr,
						"Insurance & Real Estate Services": insurestatelyr,
					   }	
                  }							 
			];
			
	var options = {
		autoResize: true,
		group_maxHeight: "160px",
		//container_maxHeight : "350px", 
		exclusive: false,
		collapsed: true, 
		position: 'topright'
	};
		
	var control = L.Control.styledLayerControl(baseMaps, overlays, options);
	map.addControl(control);
	
	L.control.tagFilterButton({
        data: ['Franchise', 'Local']
    }).addTo(map);
	
	//Customize geojson symbols and labels for the search widget layer group
	//Features are set to transparent because of the conflicting layer groups
	searchstyle = {
		pointToLayer: function(feature, latlng) {
			return L.marker(latlng, {
				icon: L.divIcon({iconSize: L.point(6, 6),
				})
			})
		}
	};
	
	// Create layer group for the search widget, insert style settings
	var poiLayers = L.layerGroup([
		L.geoJson(artmusic, searchstyle),
		L.geoJson(theatre, searchstyle),
		L.geoJson(church, searchstyle),
		L.geoJson(education, searchstyle),
		L.geoJson(municipal, searchstyle),
		L.geoJson(fitness, searchstyle),
		L.geoJson(sport, searchstyle),
		L.geoJson(grocery, searchstyle),
		L.geoJson(rest, searchstyle),
		L.geoJson(specrest, searchstyle),
		L.geoJson(chirophy, searchstyle),
		L.geoJson(denop, searchstyle),
		L.geoJson(pharmphy, searchstyle),
		L.geoJson(specheal, searchstyle),
		L.geoJson(vet, searchstyle),
		L.geoJson(advise, searchstyle),
		L.geoJson(financelaw, searchstyle),
		L.geoJson(insurestate, searchstyle),
		L.geoJson(aes, searchstyle),
		L.geoJson(clothing, searchstyle),
		L.geoJson(design, searchstyle),
		L.geoJson(retail, searchstyle),
		L.geoJson(autogas, searchstyle),
		L.geoJson(manueng, searchstyle),
		L.geoJson(landmain, searchstyle),
		L.geoJson(tech, searchstyle),
		L.geoJson(utility, searchstyle),
		L.geoJson(general, searchstyle),
	]);

	//Create search widget wth layer group and add it to the map
	L.control.search({
		layer: poiLayers,
		initial: false,
		propertyName: 'name'
	}).addTo(map);
	
	//Add Ancaster Village Logo to Map
    var logo = L.control({position: 'bottomleft'});
    logo.onAdd = function(map){
        var div = L.DomUtil.create('div', 'myclass');
        div.innerHTML= "<img id='logo' src='http://www.shopancasterfarmersmarket.com/bia-dev/wp-content/uploads/2015/08/logo-enclosed.png'/>";
        return div;
    }
    logo.addTo(map);
	
</script>
</body>
</html>
